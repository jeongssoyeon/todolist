<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë‹¬ë ¥ í˜ì´ì§€</title>

<!-- FullCalendar CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.min.css"
	rel="stylesheet" />

<!-- ìŠ¤íƒ€ì¼ ì¶”ê°€ -->
<style>
body {
	font-family: Arial, sans-serif;
	background-color: #f8f9fa;
	margin: 0;
	padding: 0;
	display: flex; /* ì¢Œì¸¡ íšŒì› ì •ë³´ì™€ ë‹¬ë ¥ì„ ë‚˜ë€íˆ í‘œì‹œ */
	height: 100vh;
}

/* ì¢Œì¸¡ íŒ¨ë„ ìŠ¤íƒ€ì¼ */
.sidebar {
	width: 250px;
	background: #343a40;
	color: #ffffff;
	padding: 20px;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	justify-content: space-between; /* ìƒë‹¨ê³¼ í•˜ë‹¨ ì‚¬ì´ ì—¬ë°±ì„ ìë™ ë°°ì¹˜ */
	height: 100%;
}

.sidebar h3 {
	text-align: center;
	margin-bottom: 20px;
	font-size: 1.5em;
}

.logout-container {
	margin-top: auto; /* ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ì„ ì•„ë˜ë¡œ ë°€ì–´ë‚´ê¸° */
}

.logout-btn {
	display: block;
	width: 100%;
	padding: 10px;
	text-align: center;
	background-color: #dc3545;
	color: white;
	border: none;
	border-radius: 5px;
	cursor: pointer;
	text-decoration: none;
	box-sizing: border-box;
}

.logout-btn:hover {
	background-color: #bd2130;
}

/* ë‹¬ë ¥ ìŠ¤íƒ€ì¼ */
#calendar-container {
	flex: 1; /* ë‚¨ì€ ê³µê°„ì„ ì°¨ì§€ */
	padding: 20px;
	box-sizing: border-box;
}

#calendar {
	max-width: 1000px;
	margin: 0 auto;
}
</style>
</head>
<body>
	<!-- ì¢Œì¸¡ íŒ¨ë„ -->
	<div class="sidebar">
		<h3>
			<span th:text="${username}"></span>'s To-Do ListğŸ‘»ğŸ§©ğŸŒ¼ğŸ‹ğŸ§
		</h3>

		<!-- ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ -->
		<div class="logout-container">
			<form method="get" action="/logout">
				<button type="submit" class="logout-btn">ë¡œê·¸ì•„ì›ƒ</button>
			</form>

		</div>
	</div>

	<!-- ë‹¬ë ¥ ì˜ì—­ -->
	<div id="calendar-container">
		<div id="calendar"></div>
	</div>

	<!-- FullCalendar JS -->
	<script
		src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

	<!-- ë‹¬ë ¥ ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸ -->
	<script>
		document.addEventListener('DOMContentLoaded', function() {
			var calendarEl = document.getElementById('calendar');

			var calendar = new FullCalendar.Calendar(calendarEl, {
				initialView : 'dayGridMonth', // ì›”ê°„ ë‹¬ë ¥
				locale : 'ko', // í•œêµ­ì–´ ì„¤ì •
				dateClick : function(info) {
					alert('ì„ íƒëœ ë‚ ì§œ: ' + info.dateStr); // ë‚ ì§œ í´ë¦­ ì´ë²¤íŠ¸
					window.location.href = '/todo?date=' + info.dateStr; // íˆ¬ë‘ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ë¡œ ì´ë™
				},
				headerToolbar : {
					left : 'prev,next today',
					center : 'title',
					right : 'dayGridMonth' // "month" ë²„íŠ¼ë§Œ í‘œì‹œ
				}
			});

			calendar.render(); // ë‹¬ë ¥ ë Œë”ë§
		});
	</script>
</body>
</html>
